(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-host-game_three-cast_list-cast_list"],{"01c9":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".check_view[data-v-372460c5]{border:%?1?% solid #f8d97b;box-sizing:border-box;height:%?39?%;margin-right:%?35?%;width:%?41?%}.check_view.active[data-v-372460c5]{border:none}.check_view.active uni-image[data-v-372460c5]{display:block}.check_view uni-image[data-v-372460c5]{display:none;width:100%}.player_list .item[data-v-372460c5]{margin-bottom:%?30?%}.t_view[data-v-372460c5]{border:%?1?% solid var(--color);padding:%?20?% %?50?%}.item .btn[data-v-372460c5]{border-right:%?1?% solid var(--color);border-top:%?1?% solid var(--color);height:%?20?%;margin-right:%?40?%;-webkit-transform:rotate(45deg);transform:rotate(45deg);transition:all .3s;width:%?20?%}.item .head_img[data-v-372460c5]{flex-shrink:0;height:%?133?%;margin-right:%?50?%;width:%?135?%}.item .name[data-v-372460c5]{color:var(--color);font-size:%?32?%;font-weight:700}.b_view[data-v-372460c5]{margin-top:%?40?%;max-height:0;transition:max-height .3s}.item.active .b_view[data-v-372460c5]{max-height:%?500?%}.item.active .btn[data-v-372460c5]{-webkit-transform:rotate(135deg);transform:rotate(135deg)}.item[data-v-372460c5]{overflow:hidden}.b_view .list[data-v-372460c5]{background-color:#251f1a;color:var(--color);font-size:%?30?%;font-weight:700;margin-bottom:%?20?%;padding:%?20?% %?117?%}.com_btn[data-v-372460c5]{margin:%?80?% 0}",""]),e.exports=t},"077c":function(e,t,a){"use strict";a.r(t);var n=a("527f"),i=a("5294");for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("eacb");var r,c=a("f0c5"),s=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"372460c5",null,!1,n["a"],r);t["default"]=s.exports},"527f":function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return n}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"player_list"},e._l(e.playerList,(function(t,n){return a("v-uni-view",{key:t.player,class:"item "+(t.zk?"active":""),attrs:{"data-index":n},on:{click:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.zk.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"t_view flex_al_sb"},[a("v-uni-view",{staticClass:"flex_al"},[a("v-uni-view",{staticClass:"btn"}),a("v-uni-view",{staticClass:"head_img"},[a("v-uni-image",{attrs:{mode:"widthFix",src:t.roleHead}})],1),a("v-uni-view",{staticClass:"name"},[e._v(e._s(t.roleName))])],1),a("v-uni-view",{class:"check_view  "+(t.check?"active":""),attrs:{"data-index":n},on:{click:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.xzOne.apply(void 0,arguments)}}},[a("v-uni-image",{attrs:{mode:"widthFix",src:"/static/images/dui.png"}})],1)],1),a("v-uni-view",{staticClass:"b_view"},e._l(t.items,(function(t,i){return a("v-uni-view",{key:i,staticClass:"list flex_al",attrs:{"data-index":n,"data-index2":i},on:{click:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.xzTwo.apply(void 0,arguments)}}},[a("v-uni-view",{class:"check_view  "+(t.check?"active":"")},[a("v-uni-image",{attrs:{mode:"widthFix",src:"/static/images/dui.png"}})],1),a("v-uni-view",{staticClass:"a_name"},[e._v(e._s(t.generalName))])],1)})),1)],1)})),1),a("v-uni-view",{staticClass:"com_btn",attrs:{hoverClass:"active"},on:{click:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.confirm.apply(void 0,arguments)}}},[e._v("确认")])],1)},o=[]},5294:function(e,t,a){"use strict";a.r(t);var n=a("ff5d"),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"9de6":function(e,t,a){var n=a("01c9");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("d35ced9e",n,!0,{sourceMap:!1,shadowMode:!1})},eacb:function(e,t,a){"use strict";var n=a("9de6"),i=a.n(n);i.a},ff5d:function(e,t,a){"use strict";a("99af"),a("d81d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("ee06")(a("5285")),i=a("c5a9"),o=getApp(),r={data:function(){return{playerList:[],generaId:"",playerId:"",sellType:"",attackGeneralId:""}},onLoad:function(e){this.setData({generaId:e.generaId,playerId:e.playerId}),e.sellType&&this.setData({sellType:e.sellType}),this.QueryAttackList()},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},methods:{zk:function(e){var t=e.currentTarget.dataset.index,a=this.playerList;a[t].zk=!a[t].zk,this.setData({playerList:a})},xzOne:function(e){var t=e.currentTarget.dataset.index,a=this.playerList;a[t].check=!a[t].check,this.setData({playerList:a})},xzTwo:function(e){var t=e.currentTarget.dataset,a=t.index,n=t.index2,i=this.playerList;i.map((function(e){e.items.map((function(e){e.check=!1}))})),i[a].items[n].check=!0,this.setData({playerList:i,attackGeneralId:i[a].items[n].generalId})},confirm:function(){var e=this;return i(n.default.mark((function t(){var a,i,r,c;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.playerList,i=[],a.map((function(e){e.check&&i.push({playerId:e.playerId})})),t.next=5,o.globalData.Api.QueryCounterList(e.generaId,e.playerId,+uni.getStorageSync("roomId"));case 5:r=t.sent,console.log(r),r.isOk?uni.navigateTo({url:"/pages/host/game_three/counter_list/counter_list?generaId=".concat(e.generaId,"&playerId=").concat(e.playerId,"&taPlayerId=").concat(JSON.stringify(i))}):39==e.generaId?o.globalData.Confirm("是否使用下毒？").then((function(){var t={roomId:+uni.getStorageSync("roomId"),playerId:+e.playerId,roundNo:+uni.getStorageSync("roundNo")||1,sellMode:+e.generaId,sellType:1,attackGeneralId:e.attackGeneralId,defenseItems:i,strikeItems:[]};e.attackGeneralId||delete t.attackGeneralId,o.globalData.Api.PlayerSell(t).then((function(e){e.isOk&&o.globalData.Api.QueryAuction(+uni.getStorageSync("roomId")).then((function(e){e.isOk?uni.navigateTo({url:"/pages/host/game_three/auction_fit/auction_fit"}):o.globalData.Toast(r.message,"none",(function(){uni.reLaunch({url:"/pages/host/game_three/action/action"})}))})),console.log(e)}))})).catch((function(){var t={roomId:+uni.getStorageSync("roomId"),playerId:+e.playerId,roundNo:+uni.getStorageSync("roundNo")||1,sellMode:+e.generaId,sellType:0,attackGeneralId:e.attackGeneralId,defenseItems:i,strikeItems:[]};e.attackGeneralId||delete t.attackGeneralId,o.globalData.Api.PlayerSell(t).then((function(e){e.isOk&&o.globalData.Api.QueryAuction(+uni.getStorageSync("roomId")).then((function(e){e.isOk?uni.navigateTo({url:"/pages/host/game_three/auction_fit/auction_fit"}):o.globalData.Toast(r.message,"none",(function(){uni.reLaunch({url:"/pages/host/game_three/action/action"})}))})),console.log(e)}))})):(c={roomId:+uni.getStorageSync("roomId"),playerId:+e.playerId,roundNo:+uni.getStorageSync("roundNo")||1,sellMode:+e.generaId,sellType:e.sellType||0,attackGeneralId:e.attackGeneralId,defenseItems:i,strikeItems:[]},e.attackGeneralId||delete c.attackGeneralId,o.globalData.Api.PlayerSell(c).then((function(e){e.isOk&&o.globalData.Api.QueryAuction(+uni.getStorageSync("roomId")).then((function(e){e.isOk?uni.navigateTo({url:"/pages/host/game_three/auction_fit/auction_fit"}):o.globalData.Toast(r.message,"none",(function(){uni.reLaunch({url:"/pages/host/game_three/action/action"})}))})),console.log(e)})));case 8:case"end":return t.stop()}}),t)})))()},QueryAttackList:function(){var e=this;return i(n.default.mark((function t(){var a,i;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.globalData.Api.QueryAttackList(e.generaId,e.playerId);case 2:(a=t.sent).isOk&&((i=a.content).map((function(e){e.check=!1,e.zk=!1,e.items.map((function(e){e.check=!1}))})),console.log(i),e.setData({playerList:i})),console.log(a);case 5:case"end":return t.stop()}}),t)})))()}}};t.default=r}}]);