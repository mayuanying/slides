(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-host-game_reading-game_reading"],{"33fb":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a("ee06")(a("5285")),n=a("c5a9"),i=getApp(),r={data:function(){return{player:[],isCreateRoom:!1,registerId:"",roomId:"",qrCode:"",timer:""}},onLoad:function(){this.isCreateRoom=!0},mounted:function(){function t(t,e){return Math.floor(Math.random()*(e-t))+t}this.roomId=t(1e3,9999),this.player=this.$playerData},onReady:function(){},onShow:function(){uni.removeStorageSync("two_stage"),uni.removeStorageSync("two_init"),uni.removeStorageSync("two_jiemeng"),uni.removeStorageSync("roundNo"),uni.removeStorageSync("three_init")},onHide:function(){clearInterval(this.timer),this.setData({timer:null})},onUnload:function(){clearInterval(this.timer),this.setData({timer:null})},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},methods:{startGame:function(){i.globalData.Confirm("请确认玩家都已进入游戏").then((function(t){uni.reLaunch({url:"/pages/host/game_one/start/index"})})).catch((function(){}))},CreateRoom:function(){var t=this;return n(o.default.mark((function e(){var a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.registerId),e.next=3,i.globalData.Api.CreateRoom(t.registerId);case 3:a=e.sent,console.log(a),a.isOk?(i.globalData.Toast("创建成功","success"),uni.setStorageSync("roomId",a.content.roomId),i.globalData.Api.EditManageVisit({openId:uni.getStorageSync("openId"),lastPage:"/".concat(t.route),roomId:+uni.getStorageSync("roomId")}),t.setData({roomId:a.content.roomId,qrCode:a.content.qrCode,isCreateRoom:!0}),t.QueryPlayerList()):i.globalData.Toast(a.message);case 6:case"end":return e.stop()}}),e)})))()},QueryPlayerList:function(){return!1}}};e.default=r},"566a":function(t,e,a){var o=a("24fb");e=o(!1),e.push([t.i,".ewm_view[data-v-768f066d]{box-sizing:border-box;height:%?299?%;margin:%?44?% 0 %?96?%;padding:%?25?% 0;width:100%}.room_view[data-v-768f066d]{color:#482f19;font-size:%?30?%;font-weight:700}.room_view .t1[data-v-768f066d]{font-size:%?32?%}.room_view .t2[data-v-768f066d]{font-size:%?50?%;margin-top:%?20?%}.ewm_view .ewm_bg[data-v-768f066d]{background-color:#fff;box-sizing:border-box;height:%?247?%;padding:%?10?%;width:%?247?%}.ewm_view uni-image[data-v-768f066d]{display:block;height:100%;width:100%}.player_view[data-v-768f066d]{color:#f8d97b;display:flex;font-size:%?26?%;font-weight:700}.player_view .item[data-v-768f066d]{margin-bottom:%?44?%;margin-right:%?27?%}.player_view .item[data-v-768f066d]:nth-child(4n){margin-right:0}.player_view .item .img_view[data-v-768f066d]{height:%?148?%;margin-bottom:%?25?%;width:%?148?%}.player_view .item .img_view uni-image[data-v-768f066d]{display:block;height:100%;width:auto}.footer_btn .com_btn[data-v-768f066d]{width:48%}",""]),t.exports=e},"60a4":function(t,e,a){"use strict";a.r(e);var o=a("33fb"),n=a.n(o);for(var i in o)"default"!==i&&function(t){a.d(e,t,(function(){return o[t]}))}(i);e["default"]=n.a},"6fb6":function(t,e,a){"use strict";var o;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return o}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"container"},[t.isCreateRoom?t._e():a("v-uni-view",{staticClass:"com_btn",attrs:{hoverClass:"active"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.CreateRoom.apply(void 0,arguments)}}},[t._v("创建房间")]),t.isCreateRoom?[a("v-uni-view",{staticClass:"ewm_view flex_center",staticStyle:{background:"#dabc62 url('/images/sword.png') no-repeat 100% / cover"}},[a("v-uni-view",{staticClass:"room_view flex_col flex_al"},[a("v-uni-text",{staticClass:"t1"},[t._v("房间号")]),a("v-uni-text",{staticClass:"t2"},[t._v(t._s(t.roomId))])],1)],1),a("v-uni-view",{staticClass:"player_view flex_wrap"},t._l(t.player,(function(e,o){return a("v-uni-view",{key:o,staticClass:"item flex_col flex_center"},[a("v-uni-view",{staticClass:"img_view flex_center"},[a("v-uni-image",{attrs:{mode:"heightFix",src:e.roleHead}})],1),a("v-uni-view",{staticClass:"name",staticStyle:{color:"#333"}},[t._v(t._s(e.roleName))])],1)})),1),a("v-uni-view",{staticClass:"footer_btn flex_al_sb"},[a("v-uni-view",{staticClass:"com_btn",attrs:{hoverClass:"active"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.QueryPlayerList.apply(void 0,arguments)}}},[t._v("刷新")]),a("v-uni-view",{staticClass:"com_btn",attrs:{hoverClass:"active"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.startGame.apply(void 0,arguments)}}},[t._v("进入游戏")])],1)]:t._e()],2)},i=[]},"944e":function(t,e,a){"use strict";a.r(e);var o=a("6fb6"),n=a("60a4");for(var i in n)"default"!==i&&function(t){a.d(e,t,(function(){return n[t]}))}(i);a("e986");var r,s=a("f0c5"),c=Object(s["a"])(n["default"],o["b"],o["c"],!1,null,"768f066d",null,!1,o["a"],r);e["default"]=c.exports},e986:function(t,e,a){"use strict";var o=a("f368"),n=a.n(o);n.a},f368:function(t,e,a){var o=a("566a");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=a("4f06").default;n("0268fd88",o,!0,{sourceMap:!1,shadowMode:!1})}}]);