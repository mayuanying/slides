(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-host-game_three-player_init-player_init"],{"0bfb":function(t,a,e){var i=e("94a0");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("30dcf280",i,!0,{sourceMap:!1,shadowMode:!1})},5642:function(t,a,e){"use strict";var i;e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return r})),e.d(a,"a",(function(){return i}));var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{staticClass:"container"},[e("v-uni-view",{staticClass:"player_view"},t._l(t.playerList,(function(a,i){return e("v-uni-view",{key:a.player,staticClass:"item flex_col"},[e("v-uni-view",{staticClass:"t_view flex_al_sb"},[e("v-uni-view",{staticClass:"l_view flex_al"},[e("v-uni-view",{staticClass:"head_img"},[e("v-uni-image",{attrs:{mode:"widthFix",src:a.roleHead}})],1),e("v-uni-view",{staticClass:"name"},[t._v(t._s(a.roleName))])],1),e("v-uni-view",{staticClass:"r_view"},[e("v-uni-view",{staticClass:"input_box flex_al"},[e("v-uni-view",{staticClass:"t1"},[t._v("兵力")]),e("v-uni-input",{attrs:{"data-id":a.playerId,"data-type":"1",placeholder:"请输入兵力",type:"number",value:a.playerTroopNo},on:{blur:function(a){arguments[0]=a=t.$handleEvent(a),t.inputChange.apply(void 0,arguments)}}})],1),e("v-uni-view",{staticClass:"input_box flex_al"},[e("v-uni-view",{staticClass:"t1"},[t._v("粮草")]),e("v-uni-input",{attrs:{"data-id":a.playerId,"data-type":"2",placeholder:"请输入粮草",type:"number",value:a.playerGrainNo},on:{blur:function(a){arguments[0]=a=t.$handleEvent(a),t.inputChange.apply(void 0,arguments)}}})],1),e("v-uni-view",{staticClass:"input_box flex_al"},[e("v-uni-view",{staticClass:"t1"},[t._v("出手顺序")]),e("v-uni-input",{attrs:{"data-id":a.playerId,"data-type":"3",placeholder:"请输入顺序",type:"number",value:a.attackSort},on:{blur:function(a){arguments[0]=a=t.$handleEvent(a),t.inputChange.apply(void 0,arguments)}}})],1)],1)],1),e("v-uni-view",{staticClass:"wj_view"},[e("v-uni-view",{staticClass:"item_view flex"},[e("v-uni-view",{staticClass:"t1"},[t._v("武将")]),e("v-uni-view",{staticClass:"r_box flex flex_wrap"},[t._l(a.generals,(function(a,i){return e("v-uni-view",{key:a.t1,staticClass:"pl"},[t._v(t._s(a.generaName))])})),e("v-uni-image",{staticClass:"add_view",attrs:{"data-id":a.playerId,"data-type":"1",src:"/static/images/jia.png"},on:{click:function(a){a.stopPropagation(),a.preventDefault(),arguments[0]=a=t.$handleEvent(a),t.addFun.apply(void 0,arguments)}}})],2)],1),e("v-uni-view",{staticClass:"item_view flex"},[e("v-uni-view",{staticClass:"t1"},[t._v("校尉")]),e("v-uni-view",{staticClass:"r_box flex flex_wrap"},[t._l(a.officers,(function(a,i){return e("v-uni-view",{key:a.t2,staticClass:"pl"},[t._v(t._s(a.generaName))])})),e("v-uni-image",{staticClass:"add_view",attrs:{"data-id":a.playerId,"data-type":"2",src:"/static/images/jia.png"},on:{click:function(a){a.stopPropagation(),a.preventDefault(),arguments[0]=a=t.$handleEvent(a),t.addFun.apply(void 0,arguments)}}})],2)],1)],1)],1)})),1),e("v-uni-view",{staticClass:"com_btn",attrs:{hoverClass:"active"},on:{click:function(a){a.stopPropagation(),a.preventDefault(),arguments[0]=a=t.$handleEvent(a),t.confirm.apply(void 0,arguments)}}},[t._v("确认")])],1)},r=[]},"72ba":function(t,a,e){"use strict";e("99af"),e("d81d"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=e("ee06")(e("5285")),n=e("c5a9"),r=getApp(),o={data:function(){return{playerList:[]}},onLoad:function(t){},onShow:function(){this.QueryDroiyanPlayerList()},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},methods:{confirm:function(){uni.navigateBack({delta:1})},inputChange:function(t){var a=t.detail.value,e=t.currentTarget.dataset,i=e.type,n=e.id,o=this.playerList,s=!0;3==i&&o.map((function(t){if(t.attackSort==a)return s=!1,r.globalData.Toast("当前有重复的出手顺序，请重新设置"),!1})),s&&this.DistAttriBute({playerId:+n,attriButeNo:+a,attrButeMode:+i})},DistAttriBute:function(t){var a=this;return n(i.default.mark((function e(){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.globalData.Api.DistAttriBute(t);case 2:(n=e.sent).isOk&&(r.globalData.Toast(n.message,"success"),a.QueryDroiyanPlayerList());case 4:case"end":return e.stop()}}),e)})))()},addFun:function(t){var a=t.currentTarget.dataset,e=a.id,i=a.type;uni.navigateTo({url:"/pages/host/game_three/player_check/player_check?id=".concat(e,"&type=").concat(i)})},QueryDroiyanPlayerList:function(){var t=this;return n(i.default.mark((function a(){var e;return i.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.globalData.Api.QueryDroiyanPlayerList(uni.getStorageSync("roomId"));case 2:e=a.sent,console.log(e),e.isOk&&t.setData({playerList:e.content});case 5:case"end":return a.stop()}}),a)})))()}}};a.default=o},"7d3b":function(t,a,e){"use strict";var i=e("0bfb"),n=e.n(i);n.a},"885b":function(t,a,e){"use strict";e.r(a);var i=e("5642"),n=e("dcb0");for(var r in n)"default"!==r&&function(t){e.d(a,t,(function(){return n[t]}))}(r);e("7d3b");var o,s=e("f0c5"),l=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"255acb36",null,!1,i["a"],o);a["default"]=l.exports},"94a0":function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,"uni-page-body[data-v-255acb36]{color:var(--color);font-weight:700}.item[data-v-255acb36],\r\n.t_view[data-v-255acb36]{margin-bottom:%?50?%}.item[data-v-255acb36]{border-bottom:%?1?% solid #ffecdb;padding-bottom:%?50?%}.t_view .head_img[data-v-255acb36]{flex-shrink:0;height:%?133?%;margin-right:%?30?%;width:%?135?%}.t_view .name[data-v-255acb36]{font-size:%?32?%;line-height:%?40?%;width:%?35?%}.t_view .input_box[data-v-255acb36]{margin-bottom:%?20?%}.t_view .input_box .t1[data-v-255acb36]{font-size:%?28?%;text-align:left;width:%?190?%}.t_view .input_box uni-input[data-v-255acb36]{border:%?1?% solid var(--color);box-sizing:border-box;font-size:%?24?%;height:%?41?%;line-height:%?41?%;text-align:center;width:%?204?%}.wj_view .item_view[data-v-255acb36]{margin-bottom:%?35?%}.wj_view .t1[data-v-255acb36]{border-right:%?1?% solid var(--color);flex-shrink:0;font-size:%?26?%;height:%?30?%;margin-right:%?38?%;padding-right:%?38?%}.wj_view .pl[data-v-255acb36]{background-color:var(--color);color:var(--fontColor);font-size:%?22?%;margin-bottom:%?20?%;margin-right:%?20?%;padding:%?5?% %?10?%}.wj_view .add_view[data-v-255acb36]{height:%?40?%;width:%?40?%}",""]),t.exports=a},dcb0:function(t,a,e){"use strict";e.r(a);var i=e("72ba"),n=e.n(i);for(var r in i)"default"!==r&&function(t){e.d(a,t,(function(){return i[t]}))}(r);a["default"]=n.a}}]);