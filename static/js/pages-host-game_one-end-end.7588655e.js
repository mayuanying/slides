(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-host-game_one-end-end"],{"235c":function(t,a,e){"use strict";e("d81d"),e("d3b7"),e("e25e"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;e("ee06")(e("5285")),e("c5a9");var i=getApp(),n={data:function(){return{player:[],isReward:!1,interval:void 0,t:{playerId:"",roleHead:"",roleName:"",rewardNo:"",castNo:"",ticketNo:""}}},onLoad:function(t){this.player=this.$playerData},onReady:function(){},onShow:function(){this.setData({isReward:uni.getStorageSync("oneIsReward")||!1})},onHide:function(){},onUnload:function(){this.setData({interval:clearTimeout(this.interval)})},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},methods:{goGameTwo:function(){var t=this;i.globalData.Confirm("是否进入阶段二?").then((function(){t.setData({interval:clearTimeout(t.interval)}),uni.reLaunch({url:"/pages/host/game_two/start/start"})})).catch((function(){}))},goBack:function(){uni.reLaunch({url:"../start/index"})},changeTicket:function(t){console.log(t.detail.value);var a=t.currentTarget.dataset.index,e=this.player;e[a].ticketNo=+t.detail.value,this.setData({player:e})},goChange:function(t){var a=t.target.dataset.index,e=parseInt(this.player[a].rewardNo);return e<8?(i.globalData.Toast("军需数大于等于8"),!1):(this.player[a].rewardNo=e-8,console.log(t.target.dataset.index),!1)},QueryVoteList:function(){var t=this;i.globalData.Api.QueryVoteList(+uni.getStorageSync("roomId")).then((function(a){a.isOk&&t.setData({player:a.content})})).finally((function(){t.setData({interval:clearTimeout(t.interval)}),t.setData({interval:setTimeout((function(){return t.QueryVoteList()}),3e3)})}))},goExit:function(){var t=this;this.setData({interval:clearTimeout(this.interval)}),i.globalData.Confirm("是否退出游戏?").then((function(){uni.removeStorageSync("two_init"),uni.removeStorageSync("two_jiemeng"),uni.removeStorageSync("two_stage"),uni.removeStorageSync("roomId"),uni.removeStorage();var a=t.$playerData;a.map((function(t){t.scoutNo=0,t.offerNo=0,t.castNo=0,t.ticketNo=0,t.rewardNo=0}));var e=t.$campList;e.map((function(t){t.luckDrawNo=0,t.items=[{allianceId:0,roleHead:"",roleName:""},{allianceId:0,roleHead:"",roleName:""}]})),uni.reLaunch({url:"/"})}))},goRank:function(){this.setData({interval:clearTimeout(this.interval)}),uni.navigateTo({url:"../voterank/voterank"})}}};a.default=n},"3e77":function(t,a,e){"use strict";var i;e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return o})),e.d(a,"a",(function(){return i}));var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{staticClass:"container"},[e("v-uni-view",{staticClass:"player_list"},t._l(t.player,(function(a,i){return e("v-uni-view",{key:a.playerId,staticClass:"user_view flex_al"},[e("v-uni-view",{staticClass:"l_view flex_col flex_al"},[e("v-uni-view",{staticClass:"head_img"},[e("v-uni-image",{attrs:{mode:"widthFix",src:a.roleHead}})],1),e("v-uni-view",{staticStyle:{"margin-top":"20rpx"}},[t._v(t._s(a.roleName))])],1),e("v-uni-view",{staticClass:"r_view flex_col",staticStyle:{"margin-left":"20rpx"}},[e("v-uni-view",{staticClass:"text_view flex_al",staticStyle:{"padding-top":"15rpx"}},[e("v-uni-text",{staticClass:"t1"},[t._v("军需卡")]),e("v-uni-text",{staticClass:"t2",staticStyle:{"padding-left":"10rpx"}},[e("v-uni-input",{staticStyle:{border:"1rpx solid var(--color)"},attrs:{type:"text"},model:{value:a.rewardNo,callback:function(e){t.$set(a,"rewardNo",e)},expression:"t.rewardNo"}})],1)],1),e("v-uni-view",{staticClass:"text_view flex_al",staticStyle:{"padding-top":"15rpx"}},[e("v-uni-text",{staticClass:"t1"},[t._v("已投票数")]),e("v-uni-text",{staticClass:"t2",staticStyle:{"padding-left":"10rpx"}},[t._v(t._s(a.castNo))])],1),e("v-uni-view",{staticClass:"text_view flex_al",staticStyle:{"padding-top":"15rpx"}},[e("v-uni-text",{staticClass:"t1"},[t._v("剩余票数")]),e("v-uni-input",{staticStyle:{"padding-left":"10rpx",border:"1rpx solid var(--color)"},attrs:{type:"text"},model:{value:a.ticketNo,callback:function(e){t.$set(a,"ticketNo",e)},expression:"t.ticketNo"}})],1),e("v-uni-view",{staticClass:"text_view flex_al",staticStyle:{"padding-top":"15rpx"}},[e("v-uni-view",{staticClass:"com_btn",staticStyle:{"margin-right":"20rpx"},attrs:{"data-index":i,hoverClass:"active"},on:{click:function(a){a.stopPropagation(),a.preventDefault(),arguments[0]=a=t.$handleEvent(a),t.goChange.apply(void 0,arguments)}}},[t._v("修改")]),e("v-uni-view",{staticClass:"com_btn",attrs:{hoverClass:"active"}},[e("v-uni-navigator",{attrs:{url:"../change_vote/change?playerId="+a.playerId}},[t._v("详情")])],1)],1)],1)],1)})),1),e("v-uni-view",{staticClass:"footer_btn flex_al_sb"},[t.isReward?t._e():e("v-uni-view",{staticClass:"com_btn",attrs:{hoverClass:"active"},on:{click:function(a){a.stopPropagation(),a.preventDefault(),arguments[0]=a=t.$handleEvent(a),t.goRank.apply(void 0,arguments)}}},[t._v("查看投票排名")]),e("v-uni-view",{staticClass:"com_btn",style:t.isReward?"width: 100%;":"",attrs:{hoverClass:"active"},on:{click:function(a){a.stopPropagation(),a.preventDefault(),arguments[0]=a=t.$handleEvent(a),t.goGameTwo.apply(void 0,arguments)}}},[t._v("开启阶段二")])],1),e("v-uni-view",{staticClass:"com_btn",attrs:{hoverClass:"active"},on:{click:function(a){a.stopPropagation(),a.preventDefault(),arguments[0]=a=t.$handleEvent(a),t.goBack.apply(void 0,arguments)}}},[t._v("返回")]),e("v-uni-view",{staticClass:"com_btn",staticStyle:{"margin-top":"50rpx"},attrs:{hoverClass:"active"},on:{click:function(a){a.stopPropagation(),a.preventDefault(),arguments[0]=a=t.$handleEvent(a),t.goExit.apply(void 0,arguments)}}},[t._v("退出游戏")])],1)},o=[]},"4a1b":function(t,a,e){"use strict";e.r(a);var i=e("3e77"),n=e("a6ea");for(var o in n)"default"!==o&&function(t){e.d(a,t,(function(){return n[t]}))}(o);e("7494");var r,s=e("f0c5"),l=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"4b18561a",null,!1,i["a"],r);a["default"]=l.exports},6229:function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,".player_list[data-v-4b18561a]{color:#333;font-size:%?28?%;font-weight:700}.item[data-v-4b18561a]{margin-bottom:%?20?%}.name[data-v-4b18561a]{margin-right:%?24?%;width:%?27?%}.l_view[data-v-4b18561a]{margin-right:%?38?%}.r_view[data-v-4b18561a]{border-bottom:1px solid #ffecdb;padding:%?40?% 0;width:100%}.r_view .com_btn[data-v-4b18561a]{font-size:%?24?%;padding:%?10?% 0;width:%?105?%}.footer_btn[data-v-4b18561a]{margin:%?80?% 0}.footer_btn .com_btn[data-v-4b18561a]{width:48%}",""]),t.exports=a},7494:function(t,a,e){"use strict";var i=e("8c1f"),n=e.n(i);n.a},"8c1f":function(t,a,e){var i=e("6229");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("711b2d0a",i,!0,{sourceMap:!1,shadowMode:!1})},a6ea:function(t,a,e){"use strict";e.r(a);var i=e("235c"),n=e.n(i);for(var o in i)"default"!==o&&function(t){e.d(a,t,(function(){return i[t]}))}(o);a["default"]=n.a}}]);