## 什么是数据可视化, 背景

信息技术的发展造就了大数据时代的数据背景，

简单的说我们可以把可视化理解成是一个：将抽象的科学或者商业数据, 用图像表示出来, 帮助我们理解数据的意义的过程。

如果我们只看这些数据，他们就只是一堆数字和没有关联的事件，但是如果我们开始分析他们，并且使用一种方式处理他们，不同的规律会被显现出来。

研究人员可能会对一些数据或者黑白的单调的图片感兴趣，比如我们在开发过程中可能就会直接在开发工具里面查看某些数据，因为我们了解这些数据，并且清楚它们所表达的含义，但是如果我们想将这些数据公布给大众，那么它们最好是色彩丰富并且直观有趣的，我们希望大家看到这些数据的时候，能够了解它并且乐在其中，

数据越多，就越难被理解与记忆，如果再加入晦涩的数据分析公式，对于寻常人来讲理解起来相当困难。数据可视化在表达数据时则要简明的多，能很好地突出数据节点，相比于数据和文字，人们对于图形更加敏感，大脑处理视觉信息只需要250ms，他们可以轻易的通过图形的颜色，尺寸，分布等明白这些数据所表达的含义，并且能够更长时间的记住这些。

图2

将数据可视化，我们就可以发现其中的规律和联系，然后再设计这些信息让他们更有意义，他们可以讲一个故事，或者让我们只注意到那些重要的信息。

## 数据类型

首先我们来了解一下数据的类型，可能听起来比较复杂，因为我们见过各种各样的数据，但是我们可以将这些数据分为三种基本类型： 我们可以计数的数据，可以排序的数据以及我们可以区分的数据。它们可以用下面三种可能不太直观的方式来表示

数量：一切有确切数字的数据

可排序的或者质量有区别，可以做对比的

分类：剩下的其他的数据

## 视觉变量

现在我们对数据有了基本的了解，然后要怎样做一个可视化图形呢？我们还有一些可视化的视觉变量。

X & Y
我么每个人都知道平面坐标系，只要学过数学，都可以画出关于x和y坐标轴的图形，任何的数据类型都可以用坐标轴来表示。
如果想要展示三维的数据或者其他更多的数据，我们还可以加入z轴或者使用下面其他的可视化变量。

SIZE
size是一个比较重要的变量，我们可以很直观的看出某类数据的多少以及对比。

Texture
texture并不常见，它的表达能力比不上颜色，所以我们实践中尽量少用它。

Shape

圆形 方形 三角形等等，在我们做分类数据的可视化图形的时候很有用。

Orientation
我们可以清楚的识别水平和垂直的线条，用方向来表示趋势

Color
色值我们都可以进行拖拽，用来选在数据的范围，比如灰度图等，虽然我们可能还是无法直观的区分＃888和＃999，但是色值对于数据可视化仍然是有很大意义的。
色调：红色表示警告，绿色表示宁静，蓝色表示和平。颜色可以有效的区分不同的类型。
颜色是最有趣的一种变量，不同的颜色梯度可以以0为中间纬度展示数据的范围及分布。

我们要如何将这些可视化变量应用数据呢？毫无疑问我们不能把所有的这些元素都堆积到一起。

Location等

## GuideLines

例如，location可以用来表示，geo、时间、连续的和离散的数字，顺序等，但是它不可以用来表示分类。

。。。形状只能用来表示分类

## 常见的图表

折线图：看数据的变动走势（坐标轴的方式用来展示时间以及对应的数据值，线条用来展示数据的变动方式，右边的色调可以直观展示数据所属的范围）

柱状图：展示多参数在一段时间内的变化或多个参数之间的比较排名等信息（这张图中我们将柱状图与折线图结合，可以直观的看出蒸发量和降水量的数量对比以及与温度的关系）

饼图：数据所占比例

散点图：直观的看出数据的分布区域（这张图中尺寸表示了数据值的大小，不同的颜色用来表示二氧化硫的浓度，我们可以拖拽来查看某一类浓度的数据分布情况）

雷达图：看各个指标的数值或占比，多用于财务等

关系图：可以用来看一组数据之间的相互联系（这张图我们可以看到每一个npm包所依赖的其他包，尺寸可以表示该包的下载次数，颜色可以使图形更加鲜明有吸引力）

矩形数图：用来描述层次结构数据的占比关系，能够进行逐级钻取显示下层数据情况（奥巴马2012年的预算提案，占比最大的是医疗保险和医疗服务以及社会安全管理）

地图：查看数据的地域分布（该图展示的是全球的航线图，每一条线表示从一个位置到另一个位置的航线，我们可以清楚的看到东亚，北美以及欧洲的航线比较密集，而非洲等地的航线较少）

## 图表的分类

前面我们介绍了几种常见的图表，折线图可以用来表示数据的趋势，也可以展示数据之间的对比等，而柱状图呢，我们也可以通过它来观察数据的趋势

每种图表所能表示的数据并不一定是唯一的，大多数情况下图表之间可以进行想换转化，比如折线图和柱状图等，所以我们可以将图表按照下面的几种类型来分类

比较类：显示值与值之间的不同和相似之处。使用图形的长度、面积、颜色等来比较数值的大小

关系类：使用图形的嵌套和位置表示数据之间的关系，通常用于表示数据之间的前后顺序、父子关系以及相关性。

趋势类：分析数据的变化趋势。使用图形的位置表现出数据在连续区域上的分布。

分布类：展示频率，数据分散在一个区间或分组。使用图形的位置、大小、颜色的渐变程度来表现数据的分布。

时间类：显示以时间为特定维度的数据。使用图形的位置表现出数据在时间上的分布。

地图类：使用地图作为背景，通过图形的位置来表现数据的地理位置。

占比类：显示同一维度上占比关系。

## 可视化实例

＊ 寿命与生育率的关系及gdp与寿命的关系

数据来在世界银行，图表是Google public data提供的，误差比较小
有人将东西方进行分类，认为发达国家的寿命更高，但是家庭结构简单，生育率较低，而发展中国家，寿命低，但家庭成员多。一开始北美欧洲日本等国家的生育率较低，而寿命较长，中国生育率降低，健康状况不断改善，1950-1970生育率均值在6.0；1970-1980生育率由6.0降为2.0；1980-2002生育率由2.0缓慢下降，稳定在1.8
自然灾害，文革等原因以及1983年开始计划生育控制人口，现在开放二胎，之后我们再看这张图可能会看到生育率变高的情况
大家基本上都是往左上角移动，除了一些阿拉伯国家，他们的寿命在增长但是家庭规模不变
90年代 艾滋 非洲人均寿命迅速下降，卢旺达最低的时候平均寿命甚至不到30岁
现在大家的寿命更长，家庭规模也变小了。。。。。。

＊ 1812 俄法战争

下面这张图是1861年法国工程师Charles Joseph Minard绘制的拿破仑征俄战役图，展示了军队的人员变化、行军的路线、气温的变化、时间等。

1. 时间轴对应的军队规模变量。横向时间轴对应的阶梯状线条粗细变化代表了行军途中军队规模的变化
2. 军队位移的经纬度变化;
3. 用颜色区分军队行军方向。棕色表示进军，黑色表示撤军；
4. 标注军队规模发生突变的地点名称以分析原因；
5. 温度折线图表现撤退途中的温度变量。从右到左反映了撤退途中的温度变化（温度采用的是现在已经废弃的温度测量单位－列氏度，1列氏度 = 1.25摄氏度），最低温度尽然达到-30°R(−37.5 °C)

1812年6月，法军越过尼曼河进入俄国境内，此时的第一梯队大概有42万人，俄国防守薄弱，俄国的兵力版本很多，大概是19万人左右，俄国指挥官采取了撤退的策略，并沿途放火，实行焦土政策，把法军途经之处烧得一干二净，法军无法沿途完成补给，只能深入到俄国境内，期待占领莫斯科后，签订有利于自己的条约。

进入秋冬天气后，法军严重水土不服，大多数的士兵死于饥饿和疾病。而俄军不断撤退，法军到9月份才与其正是交战，此时仅剩16万人，9月7日，法军跟负责防守的俄军在莫斯科前方的博罗金诺发生了战斗。最后俄军全军撤退。俄军放弃莫斯科城并带走所有的粮食，由最后一批撤离的士兵放火烧城。等到法军攻入克里姆林宫时，莫斯科已经是一片焦土的空城了，此时拿破仑与沙皇提议停战，却未获答复。

寒冷的冬季来临，法军过分深入，补给线又太长，只能撤退，俄国主要力量跟在法军后面，使用骑兵与游击战等进行骚扰，1月底法军穿越别列津纳河时，被俄军炮击，死伤惨重，这是俄法战争的最后一场战役。

最终只剩了1万人左右，而整个的大军也由出发时的60万人到最终的6万人。

这张图从五个维度对法俄战争进行了分析展示，我们可以通过这张图很清楚的看明白这次战争的主要事件及人员的变化，也可以分析出拿破仑战败的因素等，这张图曾被人誉为最好的可视化图形。Minard一生做过很多的可视化图表，这张图是他晚年的代表作，大家感兴趣可以自己查看一下。

＊ 南丁格尔

南丁格尔出身英国的上流社会，学习护理之后，就到了伦敦的医院工作，当时战争医疗环境恶劣，有大量士兵死亡，她发展出一种色彩缤纷的图表形式，用以表达军医院季节性的死亡率，对象是那些不太能理解传统统计报表的公务人员。

这张图用来说明和对比伤员死亡原因所对应的人数，又用扇形划分出了不同的月份。

蓝色区域：死于卫生情况差导致感染的士兵数
红色区域：因受伤过重而死亡的士兵数
黑色区域：死于其它原因的士兵数

区域面积越大代表越多死者，由此可以直观地看出感染而死的人数远远领先。此外，还可以清楚地看出冬季月份死亡的人数显著高于其他季节。 

她的方法打动了当时的高层，包括军方人士和维多利亚女王本人，于是医事改良的提案才得到支持。这种图表形式有时也被称作「南丁格尔的玫瑰」，是一种圆形的直方图。

＊ 环境污染

在许多发展中国家，由于缺乏基于地面的空气污染传感器，使得难以甚至在某些情况下不可能对流行病学家怀疑每年数百万人过早死亡所造成的空气中颗粒亚类的丰度进行粗略估计。有问题的颗粒，称为细颗粒物质（PM2.5），直径为2.5微米或更小，约为人发毛发的十分之一。 这些小颗粒可以通过身体的正常防御，深入肺部。

中国。。。

等价于每天的吸烟量

北京今天的空气质量

＊ pi的艺术性

pi的艺术性与随机性 以及与其它数字的对比

＊ 两会

有的可视化目标是为了观测、跟踪数据，所以就要强调实时性、变化、运算能力，可能就会生成一份不停变化、可读性强的图表，比如生育率与寿命对比。。。。

还有的被用于教育、宣传或政治，被制作成海报、课件。它们拥有强大的说服力，使用强烈的对比等手段，可以创造出极具冲击力自指人心的图像。许多媒体会根据新闻主题或数据，来创建可视化图表对新闻主题进行辅助。

＃＃ 数据的谎言

我们在做可视化图形的时候要很小心，在观看别人的可视化图形时更要格外的留意，因为数据的不同展示方式可以对人们产生误导，产生谎言。

这些招数更多的是从视觉上给人一种“错觉”。比如说，本来不大的差异，截掉Y轴的一部分，瞬间差异就会让看的人觉得——差得这么多，在趋势图中，为了说明增长趋势多明显，把Y调成不从0开始。这样差距会看起来很大，增长很大，但是如果把Y轴从0开始看的话，会显得基本没有差距。
y轴最大值按照较高的设定，拉大对比
再比如说 当奥巴马说“我国经济09年以来增长13%”的时候，他没有告诉你其实美国人只有最富的1% 收入增长了——剩下99%的人收入反而比之前略微下降。会出现这种情况是因为大家常说的“20%拥有80%的财富”。所以最富人群的收入变化对经济总量影响最大，而剩下大多数人的收入变化对总量几乎没有影响。

＃＃ 有趣的数据统计

我们可以统计出很多有趣的数据，并做出各种有意思的图表
各国吃苹果和吃橘子指数：
美国各地降雪停课标准
每年人均消费奶酪数量(绿)与每年在床上意外窒息死亡的人数(蓝)
电视坏了敲一下，主机坏了敲一下
分手

＃＃数据可视化的意义
让人们更好更直观的理解数据，可以发现趋势预测未来，也可以精准的投放广告，降低无意义的花销成本，降低决策的风险。

shangyi。。。

数据可视化可以帮助我们全方位的理解用户，同时也可以帮助我们发现自己的不足以及潜在威胁

＃＃怎样才算是好的数据可视化作品

这个图形显示了我认为对于成功的“好的”可视化所必需的四个要素。

所有四个元素是必不可少的。只有两个，你得到一些原型和粗略。有三个，最终的结果是奇怪缺乏。

首先我们要有数据，然后要知道我们想要展示什么信息，确定要用的可视化变量

优秀的可视化作品 = 信息 + 故事 + 目标 + 视觉形式
因此，一件可视化作品是从数据 -> 交互 -> 视觉 -> 开发的一个过程





























